<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="styles/login.css">
    <link rel="stylesheet" href="styles/clouds.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>

    <div class="clouds">
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
    </div>

    <h1 class="game-title">Castle Conquerors</h1>

    <div class="login-container">
        <!-- Login Form -->
        <div id="loginForm">
			<form action="/login" method="post">
	            <div class="input-group">
	                <input type="text" name="username" id="username" class="input-field" required>
	                <label for="username" class="placeholder">Username</label>
	            </div>
	
	            <div class="input-group">
	                <input type="password" name="password" id="password" class="input-field" required>
	                <label for="password" class="placeholder">Password</label>
	                <span class="toggle-password" onclick="togglePassword()">
	                    <i class="fas fa-eye"></i>
	                </span>
	            </div>
	
	            <div class="button-group">
	                <button class="login-btn" onclick="window.location.href='game.html'">Login</button>
	            </div>
	        </form>
        </div>

        <!-- Create Account Form -->
        <div id="createAccountForm" style="display: none;">
			<form action="/create-account" method="post">
	            <div class="input-group">
	                <input type="text" name="username" id="newUsername" class="input-field" required>
	                <label for="newUsername" class="placeholder">New Username</label>
	            </div>
	
	            <div class="input-group">
	                <input type="password" name="password" id="newPassword" class="input-field" required>
	                <label for="newPassword" class="placeholder">New Password</label>
	            </div>
	
	            <div class="button-group">
	                <button class="signup-btn">Create Account</button>
	            </div>
	        </form>
        </div>

        <!-- Toggle Between Forms -->
        <div class="toggle" onclick="toggleForms()">Create Account</div>
        
        <!-- Error messages -->
        <p th:if="${error}" th:text="${error}"></p>
    </div>
    <script>
        function toggleForms() {
            const loginForm = document.getElementById('loginForm');
            const createAccountForm = document.getElementById('createAccountForm');
            const toggleText = document.querySelector('.toggle');

            if (loginForm.style.display === 'none') {
                loginForm.style.display = 'block';
                createAccountForm.style.display = 'none';
                toggleText.textContent = 'Create Account';
            } else {
                loginForm.style.display = 'none';
                createAccountForm.style.display = 'block';
                toggleText.textContent = 'Login';
            }
        }
    </script>

</body>
</html>    
    
